# Safe Coder Configuration Example
# Copy this file to ~/.config/safe-coder/config.toml and customize

[llm]
# LLM provider: "anthropic", "openai", "ollama", or "github-copilot"
provider = "anthropic"

# API key (not needed for ollama)
# You can set via environment variables:
# - ANTHROPIC_API_KEY for Anthropic/Claude
# - OPENAI_API_KEY for OpenAI
# - GITHUB_COPILOT_TOKEN for GitHub Copilot
api_key = "your-api-key-here"

# Model to use
# Anthropic: "claude-sonnet-4-20250514", "claude-opus-4-20250514"
# OpenAI: "gpt-4", "gpt-4-turbo", "gpt-3.5-turbo", "gpt-4o"
# GitHub Copilot: "gpt-4", "gpt-3.5-turbo"
# Ollama: "codellama", "deepseek-coder", "qwen2.5-coder", etc.
model = "claude-sonnet-4-20250514"

# Maximum tokens per request
max_tokens = 8192

# Base URL (optional)
# - For Ollama: "http://localhost:11434"
# - For OpenAI-compatible endpoints (Azure, custom servers, etc.): "https://your-endpoint/v1"
# - For OpenAI: defaults to "https://api.openai.com/v1"
# - Not used for Anthropic or GitHub Copilot
# base_url = "http://localhost:11434"

# Example configurations for each provider:

# --- Anthropic (Claude) ---
# provider = "anthropic"
# api_key = "sk-ant-..."  # or set ANTHROPIC_API_KEY
# model = "claude-sonnet-4-20250514"

# --- OpenAI ---
# provider = "openai"
# api_key = "sk-..."  # or set OPENAI_API_KEY
# model = "gpt-4o"

# --- OpenAI-compatible endpoint (e.g., Azure OpenAI) ---
# provider = "openai"
# api_key = "your-azure-key"
# model = "gpt-4"
# base_url = "https://your-resource.openai.azure.com/openai/deployments/your-deployment"

# --- GitHub Copilot ---
# provider = "github-copilot"
# api_key = "ghu_..."  # GitHub Copilot token
# model = "gpt-4"

# --- Ollama (local) ---
# provider = "ollama"
# model = "qwen2.5-coder"
# base_url = "http://localhost:11434"  # optional, this is the default

[git]
# Enable automatic git commits after each tool execution
# When enabled, Safe Coder will:
# - Initialize git if needed
# - Create a snapshot at session start
# - Auto-commit after each tool execution
# - Track all changes for easy rollback
#
# Set to false if you want to manage git commits manually
auto_commit = true

# Orchestrator configuration for multi-agent delegation
[orchestrator]
# Path to Claude Code CLI (install: npm install -g @anthropic-ai/claude-code)
claude_cli_path = "claude"

# Path to Gemini CLI (install from: https://github.com/google/gemini-cli)
gemini_cli_path = "gemini"

# Maximum number of concurrent workers (up to 3 recommended)
max_workers = 3

# Default worker to use: "claude" or "gemini"
default_worker = "claude"

# Use git worktrees for task isolation (recommended)
use_worktrees = true

# Throttle limits for controlling worker concurrency by type
[orchestrator.throttle_limits]
# Maximum concurrent Claude Code workers (to respect rate limits)
claude_max_concurrent = 2

# Maximum concurrent Gemini CLI workers (to respect rate limits)
gemini_max_concurrent = 2

# Delay between starting workers of the same type (milliseconds)
# This helps prevent overwhelming the CLI agents or hitting rate limits
start_delay_ms = 100
